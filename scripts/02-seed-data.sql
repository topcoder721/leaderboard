-- Seed data for testing the leaderboard system

-- Insert sample players
INSERT INTO players (id, name, email) VALUES
    ('550e8400-e29b-41d4-a716-446655440001', 'Alice Johnson', 'alice@example.com'),
    ('550e8400-e29b-41d4-a716-446655440002', 'Bob Smith', 'bob@example.com'),
    ('550e8400-e29b-41d4-a716-446655440003', 'Charlie Brown', 'charlie@example.com'),
    ('550e8400-e29b-41d4-a716-446655440004', 'Diana Prince', 'diana@example.com'),
    ('550e8400-e29b-41d4-a716-446655440005', 'Eve Wilson', 'eve@example.com'),
    ('550e8400-e29b-41d4-a716-446655440006', 'Frank Miller', 'frank@example.com'),
    ('550e8400-e29b-41d4-a716-446655440007', 'Grace Lee', 'grace@example.com'),
    ('550e8400-e29b-41d4-a716-446655440008', 'Henry Davis', 'henry@example.com'),
    ('550e8400-e29b-41d4-a716-446655440009', 'Ivy Chen', 'ivy@example.com'),
    ('550e8400-e29b-41d4-a716-446655440010', 'Jack Thompson', 'jack@example.com');

-- Insert sample leaderboards
INSERT INTO leaderboards (id, name, description, start_date, end_date, total_prize_pool, status) VALUES
    ('660e8400-e29b-41d4-a716-446655440001', 'Weekly Spin Championship', 'Weekly competition for the highest spins', '2024-01-15 00:00:00+00', '2024-01-22 23:59:59+00', 50000, 'active'),
    ('660e8400-e29b-41d4-a716-446655440002', 'Monthly High Roller', 'Monthly tournament for high-stakes players', '2024-01-01 00:00:00+00', '2024-01-31 23:59:59+00', 250000, 'active'),
    ('660e8400-e29b-41d4-a716-446655440003', 'New Year Blitz', 'Special New Year tournament', '2024-01-01 00:00:00+00', '2024-01-07 23:59:59+00', 100000, 'ended'),
    ('660e8400-e29b-41d4-a716-446655440004', 'Valentine Special', 'Valentine Day special tournament', '2024-02-14 00:00:00+00', '2024-02-21 23:59:59+00', 75000, 'upcoming');

-- Insert reward tiers for leaderboards
INSERT INTO reward_tiers (leaderboard_id, position_from, position_to, reward_amount) VALUES
    -- Weekly Spin Championship rewards
    ('660e8400-e29b-41d4-a716-446655440001', 1, 1, 10000),
    ('660e8400-e29b-41d4-a716-446655440001', 2, 2, 7500),
    ('660e8400-e29b-41d4-a716-446655440001', 3, 3, 5000),
    ('660e8400-e29b-41d4-a716-446655440001', 4, 4, 3000),
    ('660e8400-e29b-41d4-a716-446655440001', 5, 5, 2000),
    ('660e8400-e29b-41d4-a716-446655440001', 6, 10, 1000),
    ('660e8400-e29b-41d4-a716-446655440001', 11, 20, 500),
    ('660e8400-e29b-41d4-a716-446655440001', 21, 50, 100),
    
    -- Monthly High Roller rewards
    ('660e8400-e29b-41d4-a716-446655440002', 1, 1, 50000),
    ('660e8400-e29b-41d4-a716-446655440002', 2, 2, 35000),
    ('660e8400-e29b-41d4-a716-446655440002', 3, 3, 25000),
    ('660e8400-e29b-41d4-a716-446655440002', 4, 5, 15000),
    ('660e8400-e29b-41d4-a716-446655440002', 6, 10, 10000),
    ('660e8400-e29b-41d4-a716-446655440002', 11, 25, 5000),
    ('660e8400-e29b-41d4-a716-446655440002', 26, 50, 2000),
    ('660e8400-e29b-41d4-a716-446655440002', 51, 100, 1000);

-- Register players to leaderboards
INSERT INTO player_leaderboard_registrations (player_id, leaderboard_id) VALUES
    ('550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440001'),
    ('550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440001'),
    ('550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440001'),
    ('550e8400-e29b-41d4-a716-446655440004', '660e8400-e29b-41d4-a716-446655440001'),
    ('550e8400-e29b-41d4-a716-446655440005', '660e8400-e29b-41d4-a716-446655440001'),
    ('550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440002'),
    ('550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440002'),
    ('550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440002'),
    ('550e8400-e29b-41d4-a716-446655440006', '660e8400-e29b-41d4-a716-446655440002'),
    ('550e8400-e29b-41d4-a716-446655440007', '660e8400-e29b-41d4-a716-446655440002');

-- Insert sample spins for active leaderboards
INSERT INTO player_spins (player_id, leaderboard_id, bet_amount, spin_time) VALUES
    -- Weekly Championship spins
    ('550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440001', 1000, '2024-01-16 10:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440001', 1500, '2024-01-16 11:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440001', 2000, '2024-01-16 12:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440001', 2500, '2024-01-16 10:30:00+00'),
    ('550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440001', 1800, '2024-01-16 11:30:00+00'),
    ('550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440001', 3000, '2024-01-16 09:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440001', 2200, '2024-01-16 14:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440004', '660e8400-e29b-41d4-a716-446655440001', 1200, '2024-01-16 13:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440005', '660e8400-e29b-41d4-a716-446655440001', 800, '2024-01-16 15:00:00+00'),
    
    -- Monthly High Roller spins
    ('550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440002', 5000, '2024-01-10 10:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440002', 7500, '2024-01-12 11:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440002', 10000, '2024-01-11 10:30:00+00'),
    ('550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440002', 8500, '2024-01-13 11:30:00+00'),
    ('550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440002', 12000, '2024-01-09 09:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440006', '660e8400-e29b-41d4-a716-446655440002', 6000, '2024-01-14 13:00:00+00'),
    ('550e8400-e29b-41d4-a716-446655440007', '660e8400-e29b-41d4-a716-446655440002', 4500, '2024-01-15 15:00:00+00');

-- Recalculate positions for all leaderboards
SELECT recalculate_leaderboard_positions('660e8400-e29b-41d4-a716-446655440001');
SELECT recalculate_leaderboard_positions('660e8400-e29b-41d4-a716-446655440002');
